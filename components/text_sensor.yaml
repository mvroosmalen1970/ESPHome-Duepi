text_sensor:
  - platform: template
    name: "burner status"
    id: burner_status
    update_interval: 10s
    on_value:
      then:
        - lambda: |-
            const auto s = id(burner_status).state;
            // heating seulement pour les Ã©tats "vraiment chauffe"
            const bool heating =
              (s.find("OFF") == std::string::npos) &&
              (s.find("Off") == std::string::npos) &&
              (s.rfind("Unknown state", 0) != 0) &&
              (s.find("wait for cooldown") == std::string::npos) &&
              (s.find("Cooldown") == std::string::npos) &&
              (s.find("Eco Idle") == std::string::npos);
            id(stove_is_heating) = heating;
            // Force la mise a jour de hvac_action dans HA
            id(Stove).publish_state();
  - platform: template
    name: "Chauffe"
    id: stove_hvac_summary
    update_interval: never
  - platform: template
    name: "debug"
    id: debug
    update_interval: 10s
  - platform: template
    name: "Duepi-ESP - version"
    id: versie
    icon: 'mdi:alpha-v-circle-outline'
    update_interval: 6h
